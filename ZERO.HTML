<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZeroDay Terminal Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-box">
            <h2>ENTER CODENAME</h2>
            <input type="text" id="nicknameInput" placeholder="Anonymous_Hacker" 
                   style="width: 100%; margin-bottom: 15px;">
            <div id="nicknameError">Codename already in use!</div>
            <button onclick="initiateChat()" 
                    style="width: 100%; padding: 10px;">ESTABLISH CONNECTION</button>
        </div>
    </div>

    <!-- Matrix Background -->
    <canvas class="matrix-bg" id="matrix"></canvas>
    
    <!-- Chat Container -->
    <div class="container hidden" id="chatContainer">
        <div class="header">
            <h1>ZeroDayChat</h1>
            <p>[ Secure Communication Channel Active ]</p>
            <div class="active-users" id="activeUsers">
                Active Users: <span id="activeUsersCount">0</span>
            </div>
            <div class="user-status">
                <span>Logged in as: <span id="currentUser" style="color: var(--warning-red);">GUEST</span></span>
                <button id="logoutButton" onclick="handleLogout()">LOGOUT</button>
            </div>
        </div>
        
        <!-- Chat Messages -->
        <div class="chat-container" id="chat">
            <div class="message">
                <span class="timestamp">[00:00:00]</span>
                <span class="username">System:</span>
                <span class="content">Awaiting user authentication...</span>
            </div>
        </div>
        
        <!-- Input Area -->
        <div class="input-container">
            <input type="text" id="messageInput" placeholder="Enter encrypted message...">
            <button onclick="sendMessage()">TRANSMIT</button>
        </div>
    </div>

    <!-- User Popup -->
    <div class="user-popup-overlay" id="userPopupOverlay"></div>
    <div class="user-popup" id="userPopup">
        <h2>USER PROFILE</h2>
        <div id="userInfo">
            <p>Handle: <span id="popupUsername"></span></p>
            <p>Status: <span style="color: var(--hacker-green);">Online</span></p>
            <p>Last Active: <span>Now</span></p>
        </div>
        <button onclick="closeUserPopup()" style="margin-top: 20px;">CLOSE</button>
    </div>

    <script src="script.js"></script>
</body>
</html>